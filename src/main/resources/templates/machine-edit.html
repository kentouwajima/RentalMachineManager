<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>機材編集</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <script>
    // 確認メッセージを表示する関数
    function confirmUpdate() {
      return confirm("この内容で更新しますか？");
    }
  </script>
</head>
<body>
<div class="container mt-5">
  <h1 class="mb-4">機材編集</h1>
  <!-- フォームに onsubmit 属性を追加 -->
  <form th:action="@{'/machines/edit/' + ${machine.id}}" th:method="post" onsubmit="return confirmUpdate()">
    <div class="mb-3">
      <label for="name" class="form-label">機材名</label>
      <input type="text" class="form-control" id="name" name="name" th:value="${machine.name}" required>
    </div>
    <div class="mb-3">
      <label for="manufacturer" class="form-label">メーカー</label>
      <input type="text" class="form-control" id="manufacturer" name="manufacturer" th:value="${machine.manufacturer}" required>
    </div>
    <div class="mb-3">
      <label for="model" class="form-label">型式</label>
      <input type="text" class="form-control" id="model" name="model" th:value="${machine.model}" required>
    </div>
    <div class="mb-3">
      <label for="statusId" class="form-label">ステータス</label>
      <select class="form-select" id="statusId" name="statusId" required>
        <option th:each="status : ${statuses}" th:value="${status.id}" th:text="${status.status}"
                th:selected="${machine.status.id == status.id}"></option>
      </select>
    </div>
    <div class="mb-3">
      <label for="locationId" class="form-label">営業所</label>
      <select class="form-select" id="locationId" name="locationId" required>
        <option th:each="location : ${locations}" th:value="${location.id}" th:text="${location.name}"
                th:selected="${machine.location.id == location.id}"></option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">更新</button>
    <a href="/machines" class="btn btn-secondary">キャンセル</a>
  </form>
</div>
</body>
</html>
